"use strict";(self.webpackChunkrealCookieBanner_name_=self.webpackChunkrealCookieBanner_name_||[]).push([[357],{5484:function(e,t,a){a.r(t),a.d(t,{ImportExportCards:function(){return G}});var n=a(5489),r=a(8503),l=a(3735),c=a(3554),o=a(5071),u=a(9591),i=a(4741),s=a(8920),m=a(6478),p=a(3828),_=a(1186),d=a(2519),E=a(8782),R=a(2711),f=a(7938),Z=a(6315),k=a(7228),g=a(5450),v=a.n(g),b=a(7363),y=a(5408),h=a(4614),S=a(6879),x=a(4115),P=a(2841),C=(0,c.Pi)((function(e){var t=e.result,a=(0,b.useCallback)((function(e){var t=e.fix,a=e.settingsTab,n=e.cookieDuplicate,r=e.cookie,l=e.blockerDuplicate,c=e.blocker,u=e.href;switch(t){case"settings":return React.createElement("a",{href:"#/settings/".concat(a),target:"_blank",rel:"noreferrer"},(0,o.__)("Set manually"));case"cookieDuplicate":var i=(0,k.Z)(n.original,2),s=i[0],m=i[1],p=(0,k.Z)(n.duplicate,2),_=p[0],d=p[1];return React.createElement(React.Fragment,null,React.createElement("a",{href:"#/cookies/".concat(s,"/edit/").concat(m),target:"_blank",rel:"noreferrer"},(0,o.__)("Open original"))," ","•"," ",React.createElement("a",{href:"#/cookies/".concat(_,"/edit/").concat(d),target:"_blank",rel:"noreferrer"},(0,o.__)("Open newly created")));case"cookie":var E=(0,k.Z)(r,2),R=E[0],f=E[1];return React.createElement("a",{href:"#/cookies/".concat(R,"/edit/").concat(f),target:"_blank",rel:"noreferrer"},(0,o.__)("Check manually"));case"blockerDuplicate":var Z=l.original,g=l.duplicate;return React.createElement(React.Fragment,null,React.createElement("a",{href:"#/blocker/edit/".concat(Z),target:"_blank",rel:"noreferrer"},(0,o.__)("Open original"))," ","•"," ",React.createElement("a",{href:"#/blocker/edit/".concat(g),target:"_blank",rel:"noreferrer"},(0,o.__)("Open newly created")));case"blocker":return React.createElement("a",{href:"#/blocker/edit/".concat(c),target:"_blank",rel:"noreferrer"},(0,o.__)("Check manually"));case"link":return React.createElement("a",{href:u,target:"_blank",rel:"noreferrer"},(0,o.__)("Set manually"));default:return null}}),[]);return t?React.createElement(React.Fragment,null,React.createElement(P.Z,{style:{marginTop:0}},(0,o.__)("Result")),t.messages.map((function(e,t){var n=e.message,r=e.severity,l=(0,x.Z)(e,["message","severity"]);return React.createElement("div",{key:t,className:"notice notice-".concat(r," inline below-h2 notice-alt"),style:{margin:"10px 0 0 0"}},React.createElement("p",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),!!l.fix&&React.createElement(React.Fragment,null," • ",a(l))))}))):null})),I=a(9161),F={labelCol:{span:24},wrapperCol:{span:24}},w=(0,c.Pi)((function(){var e,t=(0,h.m)(),a=t.cookieStore,n=t.optionStore,r=a.groups,l=a.busy,c=Z.Z.useForm(),g=(0,k.Z)(c,1)[0],x=(0,b.useState)(!1),P=(0,k.Z)(x,2),w=P[0],D=P[1],N=(0,b.useState)(void 0),Y=(0,k.Z)(N,2),V=Y[0],B=Y[1];(0,b.useEffect)((function(){a.fetchGroups()}),[]);var T=(0,b.useCallback)(function(){var e=(0,f.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.t0=B,e.next=5,(0,y.W)({location:S.H,request:(0,R.Z)({cookieGroup:0,cookieStatus:"keep",cookieSkipExisting:!0,blockerStatus:"keep",blockerSkipExisting:!0,tcfVendorConfigurationStatus:"keep"},t)});case 5:e.t1=e.sent,(0,e.t0)(e.t1),n.fetchCurrentRevision(),n.fetchSettings(),E.ZP.success((0,o.__)("Successfully imported!")),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(1),E.ZP.error(e.t2.responseJSON.message);case 15:return e.prev=15,D(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),j=(0,b.useCallback)((function(e){var t=new FileReader;return t.readAsText(e,"UTF-8"),t.onload=function(e){return g.setFieldsValue({json:e.target.result})},t.onerror=function(){return g.setFieldsValue({json:(0,o.__)("File could not be read.")})},!1}),[g]),L=(0,b.useCallback)((function(e,t){try{var a=JSON.parse(e);return!t||!!a[t]}catch(e){return!1}}),[]);return React.createElement(u.Z,{spinning:w||l},React.createElement(Z.Z,(0,i.Z)({name:"import",form:g},F,{initialValues:{json:"",cookieStatus:"keep",cookieSkipExisting:!0,blockerStatus:"keep",blockerSkipExisting:!0,tcfVendorConfigurationStatus:"keep"},onFinish:T}),React.createElement(Z.Z.Item,{label:(0,o.__)("Content to import"),required:!0},React.createElement(Z.Z.Item,{name:"json",rules:[{required:!0,message:(0,o.__)("Please provide a value!")}]},React.createElement(d.Z.TextArea,{rows:5})),React.createElement("p",{className:"description"},(0,o.__)("or select a file to upload:")),React.createElement(_.Z,{accept:"application/json",showUploadList:!1,beforeUpload:j},React.createElement("a",{className:"button"},React.createElement(I.Z,null)," ",(0,o.__)("Select File")))),React.createElement(Z.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.json!==t.json}},(function(e){var t=e.getFieldValue;return L(t("json"),"cookies")&&React.createElement(Z.Z.Item,{label:(0,o.__)("Fallback service group"),required:!0},React.createElement(Z.Z.Item,{name:"cookieGroup",noStyle:!0,rules:[{required:!0,message:(0,o.__)("Please provide a group!")}]},React.createElement(p.Z,{style:{width:"70%"}},r.sortedGroups.map((function(e){var t=e.data,a=t.id,n=t.name;return React.createElement(p.Z.Option,{key:a,value:a},n)})))),React.createElement("p",{className:"description"},(0,o.__)("Select an alternative group to assign the service to if an imported service cannot be assigned to its original group.")))})),React.createElement(Z.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.json!==t.json}},(function(e){var t=e.getFieldValue;return L(t("json"),"cookies")&&React.createElement(React.Fragment,null,React.createElement(Z.Z.Item,null,React.createElement("span",null,React.createElement(Z.Z.Item,{name:"cookieSkipExisting",valuePropName:"checked",noStyle:!0},React.createElement(m.Z,null)),React.createElement("span",null,"  ",(0,o.__)("Skip already existing services")))),React.createElement(Z.Z.Item,{label:(0,o.__)("Set service status"),name:"cookieStatus",rules:[{required:!0,message:(0,o.__)("Please choose a status!")}]},React.createElement(s.ZP.Group,null,React.createElement(s.ZP.Button,{value:"keep"},(0,o.__)("Keep")),React.createElement(s.ZP.Button,{value:"publish"},(0,o.__)("Enabled")),React.createElement(s.ZP.Button,{value:"private"},(0,o.__)("Disabled")),React.createElement(s.ZP.Button,{value:"draft"},(0,o.__)("Draft")))))})),React.createElement(Z.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.json!==t.json}},(function(e){var t=e.getFieldValue;return L(t("json"),"blocker")&&React.createElement(React.Fragment,null,React.createElement(Z.Z.Item,null,React.createElement("span",null,React.createElement(Z.Z.Item,{name:"blockerSkipExisting",valuePropName:"checked",noStyle:!0},React.createElement(m.Z,null)),React.createElement("span",null,"  ",(0,o.__)("Skip already existing content blocker")))),React.createElement(Z.Z.Item,{label:(0,o.__)("Set content blocker status"),name:"blockerStatus",rules:[{required:!0,message:(0,o.__)("Please choose a status!")}]},React.createElement(s.ZP.Group,null,React.createElement(s.ZP.Button,{value:"keep"},(0,o.__)("Keep")),React.createElement(s.ZP.Button,{value:"publish"},(0,o.__)("Enabled")),React.createElement(s.ZP.Button,{value:"private"},(0,o.__)("Disabled")),React.createElement(s.ZP.Button,{value:"draft"},(0,o.__)("Draft")))))})),React.createElement(Z.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.json!==t.json}},(function(e){var t=e.getFieldValue;return L(t("json"),"tcfVendorConfigurations")&&React.createElement(Z.Z.Item,{label:(0,o.__)("Set TCF Vendor configuration status"),name:"tcfVendorConfigurationStatus",rules:[{required:!0,message:(0,o.__)("Please choose a status!")}]},React.createElement(s.ZP.Group,null,React.createElement(s.ZP.Button,{value:"keep"},(0,o.__)("Keep")),React.createElement(s.ZP.Button,{value:"publish"},(0,o.__)("Enabled")),React.createElement(s.ZP.Button,{value:"private"},(0,o.__)("Disabled")),React.createElement(s.ZP.Button,{value:"draft"},(0,o.__)("Draft"))))})),React.createElement(Z.Z.Item,null,React.createElement("input",{type:"submit",className:"button button-primary",style:{marginTop:10},value:(0,o.__)("Import")})),React.createElement(Z.Z.Item,{style:{display:null!=V&&null!==(e=V.messages)&&void 0!==e&&e.length?"block":"none"}},React.createElement(C,{result:V}))))})),D=a(3306),N=a(6042),Y=a(8081),V=a(9864),B={labelCol:{span:24},wrapperCol:{span:24}},T=(0,c.Pi)((function(){var e=(0,h.m)().optionStore,t=e.tcf,a=e.others.hints.export,n=Z.Z.useForm(),r=(0,k.Z)(n,1)[0],l=(0,b.useState)(!1),c=(0,k.Z)(l,2),s=c[0],m=c[1],p=(0,b.useState)(""),_=(0,k.Z)(p,2),g=_[0],S=_[1],x=(0,b.useCallback)(function(){var e=(0,f.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.t0=S,e.t1=JSON,e.next=6,(0,y.W)({location:V.V,params:t});case 6:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3);case 9:return e.prev=9,m(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[]),C=(0,b.useCallback)((function(){(0,N.v)(g),E.ZP.success((0,o.__)("Export successfully copied to the clipboard."))}),[g]),I=(0,b.useCallback)((function(e){return(0,f.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),window.location.href=(0,y.Y)({location:V.V,params:(0,R.Z)((0,R.Z)({},r.getFieldsValue()),{},{download:!0})}),m(!1);case 3:case"end":return e.stop()}}),e)})))(),e.preventDefault(),!1}),[m,r]);return React.createElement(u.Z,{spinning:s},React.createElement(Z.Z,(0,i.Z)({name:"export",form:r},B,{initialValues:{settings:!0,cookieGroups:!0,cookies:!0,blocker:!0,tcfVendorConfigurations:!0,customizeBanner:!0},onFinish:x}),React.createElement(Z.Z.Item,{label:(0,o.__)("Content to export")},React.createElement("div",null,React.createElement(Z.Z.Item,{name:"settings",noStyle:!0,valuePropName:"checked"},React.createElement(D.Z,null,(0,o.__)("Settings")))),React.createElement("div",null,React.createElement(Z.Z.Item,{name:"cookieGroups",noStyle:!0,valuePropName:"checked"},React.createElement(D.Z,null,(0,o.__)("Service groups")))),React.createElement("div",null,React.createElement(Z.Z.Item,{name:"cookies",noStyle:!0,valuePropName:"checked"},React.createElement(D.Z,null,(0,o.__)("Services")))),React.createElement("div",null,React.createElement(Z.Z.Item,{name:"blocker",noStyle:!0,valuePropName:"checked"},React.createElement(D.Z,null,(0,o.__)("Content Blocker")))),t&&React.createElement("div",null,React.createElement(Z.Z.Item,{name:"tcfVendorConfigurations",noStyle:!0,valuePropName:"checked"},React.createElement(D.Z,null,(0,o.__)("TCF Vendor configurations")))),React.createElement("div",null,React.createElement(Z.Z.Item,{name:"customizeBanner",noStyle:!0,valuePropName:"checked"},React.createElement(D.Z,null,(0,o.__)("Cookie banner customization"))))),React.createElement(Z.Z.Item,null,React.createElement("input",{type:"submit",className:"button button-primary",style:{marginTop:10},value:(0,o.__)("Export")}),React.createElement("input",{onClick:I,type:"submit",className:"button",style:{margin:"10px 0 0 10px"},value:(0,o.__)("Download JSON")}),a.length>0&&React.createElement("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:"10px 0 0 0"}},React.createElement("p",null,(0,Y.E)(a.join("\n\n"))))),React.createElement(Z.Z.Item,{style:{display:g?"block":"none"}},React.createElement(Z.Z.Item,{noStyle:!0},React.createElement(P.Z,{style:{marginTop:0}},(0,o.__)("Result")),React.createElement(d.Z.TextArea,{onClick:C,value:g,readOnly:!0,rows:5})),React.createElement("p",{className:"description"},(0,o.__)('Copy the exported content and paste it into the "Import" text area of your target WordPress installation.')))))})),j=a(5990),L=a(9450),U=a(8488),q=a.n(U),M={labelCol:{span:24},wrapperCol:{span:24}},O=(0,c.Pi)((function(){var e=Z.Z.useForm(),t=(0,k.Z)(e,1)[0],a=(0,b.useState)(!1),n=(0,k.Z)(a,2),r=n[0],l=n[1],c=(0,b.useState)(!1),m=(0,k.Z)(c,2),p=m[0],_=m[1],E=(0,b.useCallback)((function(){(0,f.Z)(v().mark((function e(){var a,n,r,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),_(!0),a=t.getFieldsValue(),n=a.uuid,r=a.date,c=(0,y.Y)({location:L.Q,params:{uuid:n||"",from:(null==r?void 0:r[0].format("YYYY-MM-DD"))||"",to:(null==r?void 0:r[1].format("YYYY-MM-DD"))||""}}),window.open(c,"_blank"),l(!1);case 6:case"end":return e.stop()}}),e)})))()}),[l,_,t]);return React.createElement(u.Z,{spinning:r},React.createElement(Z.Z,(0,i.Z)({name:"export",form:t},M,{initialValues:{by:"",date:[],uuid:""},onFinish:E}),React.createElement(Z.Z.Item,{label:(0,o.__)("Export by"),required:!0},React.createElement(Z.Z.Item,{name:"by",noStyle:!0,rules:[{required:!0,message:(0,o.__)("Please select an option!")}]},React.createElement(s.ZP.Group,null,React.createElement(s.ZP.Button,{value:"date"},(0,o.__)("Date range")),React.createElement(s.ZP.Button,{value:"uuid"},(0,o.__)("UUID"))))),React.createElement(Z.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.by!==t.by}},(function(e){return"date"===(0,e.getFieldValue)("by")&&React.createElement(Z.Z.Item,{name:"date",label:(0,o.__)("Date range"),required:!0,rules:[{type:"array",required:!0,message:(0,o.__)("Please provide a valid date range!")}]},React.createElement(j.D,{disabledDate:function(e){return!e||e.isAfter(q()())}}))})),React.createElement(Z.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.by!==t.by}},(function(e){return"uuid"===(0,e.getFieldValue)("by")&&React.createElement(Z.Z.Item,{name:"uuid",label:(0,o.__)("UUID"),required:!0,rules:[{required:!0,pattern:/^\w{8}-\w{4}-\w{4}-\w{4}-\w{12}$/,message:(0,o.__)("Please provide a valid UUID!")}]},React.createElement(d.Z,null))})),React.createElement(Z.Z.Item,null,React.createElement("input",{type:"submit",className:"button button-primary",style:{marginTop:10},value:(0,o.__)("Download CSV")})),p&&React.createElement("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:"10px 0 0 0"}},React.createElement("p",null,(0,o.__)("The CSV file can be very large because data in this format is redundant per line. In your WordPress database the consents are much smaller.")))))})),G=(0,c.Pi)((function(){return React.createElement(n.Z,null,React.createElement(r.Z,{xl:16,sm:16,xs:24},React.createElement(l.Z,{style:{margin:10},title:(0,o.__)("Import")},React.createElement(w,null))),React.createElement(r.Z,{xl:8,sm:8,xs:24},React.createElement(l.Z,{style:{margin:10},title:(0,o.__)("Export")},React.createElement(T,null)),React.createElement(l.Z,{style:{margin:10},title:(0,o.__)("Export consents")},React.createElement(O,null))))}))},5990:function(e,t,a){a.d(t,{D:function(){return i}});var n=a(4741),r=a(6914),l=a(5071),c=a(8488),o=a.n(c),u=r.Z.RangePicker,i=function(e){var t=o().localeData();return React.createElement(u,(0,n.Z)({locale:{lang:{locale:o().locale(),placeholder:(0,l.__)("Select date"),rangePlaceholder:[(0,l.__)("Start date"),(0,l.__)("End date")],today:(0,l.__)("Today"),now:(0,l.__)("Now"),backToToday:(0,l.__)("Back to today"),ok:(0,l.__)("OK"),clear:(0,l.__)("Clear"),month:(0,l.__)("Month"),year:(0,l.__)("Year"),timeSelect:(0,l.__)("Select time"),dateSelect:(0,l.__)("Select date"),monthSelect:(0,l.__)("Choose a month"),yearSelect:(0,l.__)("Choose a year"),decadeSelect:(0,l.__)("Choose a decade"),yearFormat:"YYYY",dateFormat:t.longDateFormat("LL"),dayFormat:"D",dateTimeFormat:t.longDateFormat("LLL"),monthFormat:"MMMM",monthBeforeYear:!0,previousMonth:(0,l.__)("Previous month (PageUp)"),nextMonth:(0,l.__)("Next month (PageDown)"),previousYear:(0,l.__)("Last year (Control + left)"),nextYear:(0,l.__)("Next year (Control + right)"),previousDecade:(0,l.__)("Last decade"),nextDecade:(0,l.__)("Next decade"),previousCentury:(0,l.__)("Last century"),nextCentury:(0,l.__)("Next century")},timePickerLocale:{placeholder:(0,l.__)("Select time")},dateFormat:t.longDateFormat("LL"),dateTimeFormat:t.longDateFormat("LLL"),weekFormat:"YYYY-wo",monthFormat:"YYYY-MM"}},e))}},6042:function(e,t,a){function n(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}a.d(t,{v:function(){return n}})}}]);
//# sourceMappingURL=chunk-config-tab-import.lite.js.map?ver=2605a6782399361261ee